<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<script type="text/javascript">
			var seats=[[false,true,false,true,true,true,true,false,false],
						[false,true,false,true,true,true,true,false,false]];
			var selseat=-1;
			/* window.onload=function(){
				// Wire the Find seat the button event
				// document.getElementById("finseats").onclick=findSeat;
				// Wire the seat image events
				
				initSeats();
			}; */
			function initSeats(){

				for(var i=0;i<seats.length;i++){
					for(var j=0;j<seats[i].length;j++){
					if(seats[i][j]){
						setSeat(i*seats[i].length+j,"avail");
					}else{
						setSeat(i*seats[i].length+j,"unavail");
					 }
				}
			}
			}
			
			function setSeat(seatNum,status,description){
				document.getElementById("seat"+seatNum).src="./img/seat_"+status+".jpg";
				document.getElementById("seat"+seatNum).alt=description;
			}
			
			function getSeatStatus(seatNum){
				if(selseat !=-1 && (seatNum==selseat || seatNum==(selseat+1) ||seatNum==(selseat+2)))
					return "yours";
				else if(seats[Math.floor(seatNum/seats[0].length)][seatNum%seats[0].length])
					return "available";
				else
					return "unavailable";
			}
			function showSeatstatus(seatNum){
				alert("This seat is " + getSeatStatus(seatNum)+".");
			}
			function findSeat(){
				
				if(selseat >= 0){
					selseat = -1;
					initSeats();
					}
					// Search through all the seats for availability
				var i=0;
				var finished=false;
				while(i<seats.length && !finished){
						for(var j=0;j<seats[i].length;j++){
							// console.log(i+'  '+j);
							if(seats[i][j] && seats[i][j+1] && seats[i][j+2]){
								
								selseat=i*seats[i].length+j;
								setSeat(i*seats[i].length+j,'select');
								setSeat(i*seats[i].length+j+1,'select');
								setSeat(i*seats[i].length+j+2,'select');
								var accept = confirm("seat "+(j+1)+" through "+(j+3)+" in Row "+(i+1)+"are available.Accept?");
							if(accept){
								finished = true;
								break;
							}else{
								selseat =-1;
								document.getElementById("seat"+(i*seats[i].length+j)).src="./img/seat_avail.jpg";
								document.getElementById("seat"+(i*seats[i].length+j+1)).src="./img/seat_avail.jpg";
								document.getElementById("seat"+(i*seats[i].length+j+2)).src="./img/seat_avail.jpg";
							}
						}
						
					}
					i++;
					}
					}
		</script>
	</head>
	<body onload="initSeats()">
		<div style="margin-top: 10px; text-align: center;">
			<img id="seat0"  onclick="showSeatstatus(0)" src="" style="width:160px"><!-- "img/seats_unavail.jpg"> -->
			<img id="seat1"  onclick="showSeatstatus(1)" src="" style="width:160px"><!-- "img/seats_unavail.jpg"> -->
			<img id="seat2"  onclick="showSeatstatus(2)" src="" style="width:160px"><!-- "img/seat_avail.jpg"> -->
			<img id="seat3"  onclick="showSeatstatus(3)" src="" style="width:160px"><!-- "img/seats_unavail.jpg"> -->
			<img id="seat4"  onclick="showSeatstatus(4)" src="" style="width:160px"><!-- "img/seat_avail.jpg"> -->
			<img id="seat5"  onclick="showSeatstatus(5)" src="" style="width:160px"><!-- "img/seat_avail.jpg"> -->
			<img id="seat6"  onclick="showSeatstatus(6)" src="" style="width:160px"><!-- "img/seat_avail.jpg"> -->
			<img id="seat7"  onclick="showSeatstatus(7)" src="" style="width:160px"><!-- "img/seats_unavail.jpg"> -->
			<img id="seat8"  onclick="showSeatstatus(8)" src="" style="width:160px">
			<img id="seat9"  onclick="showSeatstatus(9)" src="" style="width:160px">
			<img id="seat10"  onclick="showSeatstatus(10)" src="" style="width:160px">
			<img id="seat11"  onclick="showSeatstatus(11)" src="" style="width:160px">
			<img id="seat12"  onclick="showSeatstatus(12)" src="" style="width:160px">
			<img id="seat13"  onclick="showSeatstatus(13)" src="" style="width:160px">
			<img id="seat14"  onclick="showSeatstatus(14)" src="" style="width:160px">
			<img id="seat15"  onclick="showSeatstatus(15)" src="" style="width:160px">
			<img id="seat16"  onclick="showSeatstatus(16)" src="" style="width:160px">
			<img id="seat17"  onclick="showSeatstatus(17)" src="" style="width:160px">
			<img id="seat18"  onclick="showSeatstatus(18)" src="" style="width:160px">
			<input type="button" name="" id="finseats" value="finseat" onclick="findSeat()"/>
		</div>
	</body>
</html>